# Project Instructions for Claude Code

## ğŸš¨ CRITICAL RULES - NEVER BREAK THESE

### 1. **NEVER EDIT `dist/` FILES**
- The `dist/` folder contains **auto-generated files** from webpack
- **ALWAYS edit source files in `src/` instead**
- After editing `src/` files, run `npm run build` to regenerate `dist/`
- Netlify automatically runs `npm run build` on deployment (configured in `netlify.toml`)

### 2. Build & Deployment Process
```bash
# Local development
npm run dev        # Start webpack dev server on port 3000

# Production build
npm run build      # Build to dist/ folder

# Deployment
git push           # Netlify auto-deploys from git (runs npm run build)
```

### 3. Project Structure
```
rental-management-platform/
â”œâ”€â”€ src/                    # âœ… EDIT THESE FILES
â”‚   â”œâ”€â”€ dashboard.html      # Source HTML
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ components/     # UI components
â”‚       â”œâ”€â”€ config.js       # API config
â”‚       â””â”€â”€ dashboard.js    # Entry point
â”œâ”€â”€ dist/                   # âŒ NEVER EDIT - Auto-generated by webpack
â”œâ”€â”€ public/                 # Static assets (copied to dist/)
â”œâ”€â”€ webpack.config.js       # Build configuration
â””â”€â”€ netlify.toml           # Netlify deployment config
```

## Related Repositories

### Backend Repository
- Path: `/Users/jelly/rental-management-backend`
- Built with: TypeScript + Express + MongoDB
- Deployment: Vercel (auto-deploys from git)
- Build process:
  ```bash
  npm run build    # Compiles TypeScript to dist/
  git push         # Vercel auto-deploys
  ```

## Common Tasks

### Adding External Libraries
1. Add `<script>` tag to `src/dashboard.html` (NOT `dist/dashboard.html`)
2. Run `npm run build`
3. Commit and push (Netlify will rebuild)

### Making UI Changes
1. Edit files in `src/` directory
2. Test locally: `npm run dev`
3. Build: `npm run build`
4. Commit and push

### API Changes
1. Edit TypeScript files in backend `src/` directory
2. Build: `cd /Users/jelly/rental-management-backend && npm run build`
3. Commit and push (Vercel will redeploy)

## Important Notes

- **Authentication**: Users stored in localStorage/sessionStorage with role-based permissions
- **Admin Features**: Check `isAdmin()` before allowing sensitive operations (e.g., bulk uploads)
- **Excel Features**: Uses SheetJS (XLSX) library from unpkg CDN
- **Image Handling**: Uses Cloudinary with image proxy endpoint
