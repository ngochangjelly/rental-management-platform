[build]
  publish = "dist"
  command = "npm run build"
  
[build.environment]
  SECRETS_SCAN_OMIT_KEYS = "NODE_ENV,DATABASE_NAME"

[[redirects]]
  from = "/dashboard"
  to = "/dashboard.html"
  status = 200
  force = true
  
[[redirects]]
  from = "/dashboard/"
  to = "/dashboard.html"
  status = 200
  force = true

[[redirects]]
  from = "/investor-management"
  to = "/investor-management.html"
  status = 200
  force = true
  
[[redirects]]
  from = "/investor-management/"
  to = "/investor-management.html"
  status = 200
  force = true

[[redirects]]
  from = "/login"
  to = "/login.html"
  status = 200
  force = true
  
[[redirects]]
  from = "/login/"
  to = "/login.html"
  status = 200
  force = true

[[redirects]]
  from = "/auth/login"
  to = "/login.html"
  status = 200
  force = true

[[redirects]]
  from = "/auth/login/"
  to = "/login.html"
  status = 200
  force = true

# SPA fallback - serve index.html for all non-existing routes
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200